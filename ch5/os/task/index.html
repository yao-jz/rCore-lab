<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Implementation of process management mechanism"><meta name="keywords" content="rust, rustlang, rust-lang, task"><title>os::task - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../os/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../os/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module task</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></div></section><div id="sidebar-vars" data-name="task" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../os/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../index.html">os</a>::<wbr><a class="mod" href="#">task</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/os/task/mod.rs.html#1-126">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Implementation of process management mechanism</p>
<p>Here is the entry for process scheduling required by other modules
(such as syscall or clock interrupt).
By suspending or exiting the current process, you can
modify the process state, manage the process queue through TASK_MANAGER,
and switch the control flow through PROCESSOR.</p>
<p>Be careful when you see <a href="switch/fn.__switch.html" title="__switch"><code>__switch</code></a>. Control flow around this function
might not be what you expect.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left import-item"><code>pub use task::<a class="struct" href="task/struct.TaskControlBlock.html" title="struct os::task::task::TaskControlBlock">TaskControlBlock</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use task::<a class="enum" href="task/enum.TaskStatus.html" title="enum os::task::task::TaskStatus">TaskStatus</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use task::<a class="struct" href="task/struct.TaskControlBlockInner.html" title="struct os::task::task::TaskControlBlockInner">TaskControlBlockInner</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use context::<a class="struct" href="context/struct.TaskContext.html" title="struct os::task::context::TaskContext">TaskContext</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use manager::<a class="fn" href="manager/fn.add_task.html" title="fn os::task::manager::add_task">add_task</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use pid::<a class="fn" href="pid/fn.pid_alloc.html" title="fn os::task::pid::pid_alloc">pid_alloc</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use pid::<a class="struct" href="pid/struct.KernelStack.html" title="struct os::task::pid::KernelStack">KernelStack</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use pid::<a class="struct" href="pid/struct.PidHandle.html" title="struct os::task::pid::PidHandle">PidHandle</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use processor::<a class="fn" href="processor/fn.current_task.html" title="fn os::task::processor::current_task">current_task</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use processor::<a class="fn" href="processor/fn.current_trap_cx.html" title="fn os::task::processor::current_trap_cx">current_trap_cx</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use processor::<a class="fn" href="processor/fn.current_user_token.html" title="fn os::task::processor::current_user_token">current_user_token</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use processor::<a class="fn" href="processor/fn.run_tasks.html" title="fn os::task::processor::run_tasks">run_tasks</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use processor::<a class="fn" href="processor/fn.schedule.html" title="fn os::task::processor::schedule">schedule</a>;</code></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left import-item"><code>pub use processor::<a class="fn" href="processor/fn.take_current_task.html" title="fn os::task::processor::take_current_task">take_current_task</a>;</code></div><div class="item-right docblock-short"></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="context/index.html" title="os::task::context mod">context</a></div><div class="item-right docblock-short"><p>Implementation of <a href="context/struct.TaskContext.html" title="TaskContext"><code>TaskContext</code></a></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="manager/index.html" title="os::task::manager mod">manager</a></div><div class="item-right docblock-short"><p>Implementation of <a href="manager/struct.TaskManager.html" title="TaskManager"><code>TaskManager</code></a></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="pid/index.html" title="os::task::pid mod">pid</a></div><div class="item-right docblock-short"><p>Task pid implementation.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="processor/index.html" title="os::task::processor mod">processor</a></div><div class="item-right docblock-short"><p>Implementation of <a href="processor/struct.Processor.html" title="Processor"><code>Processor</code></a> and Intersection of control flow</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="switch/index.html" title="os::task::switch mod">switch</a></div><div class="item-right docblock-short"><p>Rust wrapper around <code>__switch</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="task/index.html" title="os::task::task mod">task</a></div><div class="item-right docblock-short"><p>Types related to task management &amp; Functions for completely changing TCB</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.INITPROC.html" title="os::task::INITPROC struct">INITPROC</a></div><div class="item-right docblock-short"><p>Creation of initial process</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.add_initproc.html" title="os::task::add_initproc fn">add_initproc</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.exit_current_and_run_next.html" title="os::task::exit_current_and_run_next fn">exit_current_and_run_next</a></div><div class="item-right docblock-short"><p>Exit current task, recycle process resources and switch to the next task</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.get_current_block_start_time.html" title="os::task::get_current_block_start_time fn">get_current_block_start_time</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.get_current_block_status.html" title="os::task::get_current_block_status fn">get_current_block_status</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.get_current_block_syscall_times.html" title="os::task::get_current_block_syscall_times fn">get_current_block_syscall_times</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.suspend_current_and_run_next.html" title="os::task::suspend_current_and_run_next fn">suspend_current_and_run_next</a></div><div class="item-right docblock-short"><p>Make current task suspended and switch to the next task</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.update_syscall_times.html" title="os::task::update_syscall_times fn">update_syscall_times</a></div><div class="item-right docblock-short"></div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="os" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.61.0-nightly (03a8cc7df 2022-02-21)" ></div>
</body></html>